```table-of-contents
title: 
style: nestedList # TOC style (nestedList|inlineFirstLevel)
minLevel: 0 # Include headings from the specified level
maxLevel: 0 # Include headings up to the specified level
includeLinks: true # Make headings clickable
debugInConsole: false # Print debug info in Obsidian console
```

# 1. 쿠키와 세션
## ■ 쿠키와 세션이란?

### - 쿠키(Cookie)
- 클라이언트에 저장될 목적으로 생성한 작은 정보를 담은 파일
- 구성요소
	- Name : 쿠키를 구별하는데 사용되는 키 (Unique)
	- Value : 쿠키의 값
	- Domain : 쿠키가 저장된 도메인
	- Path : 쿠키가 사용되는 경로
	- Expires : 쿠키의 만료기한 (만료기한을 경과하면 삭제된다.)

### - 세션(Session)
- 서버에서 일정시간 동안 클라이언트의 상태를 유지하기 위해 사용된다.
- 서버에서 클라이언트마다 Unique한 세션 ID를 부여한 후 클라이언트마다 필요한 정보를 서버에 저장한다.
- 서버에서 생성한 세션ID는 클라이언트의 쿠키값으로 저장되어 클라이언트 식별에 사용된다.

![[Pasted image 20240531191025.png]]

## ■ 쿠키 다루는 방법
### - 쿠키 생성
``` java
public static void addCookie(String cookieValue, HttpServletResponse res) {
    try {
        cookieValue = URLEncoder.encode(cookieValue, "utf-8").replaceAll("\\+", "%20"); 
	    // Cookie Value 에는 공백이 불가능해서 encoding 진행

        Cookie cookie = new Cookie(AUTHORIZATION_HEADER, cookieValue); // Name-Value
        cookie.setPath("/");
        cookie.setMaxAge(30 * 60);

        // Response 객체에 Cookie 추가
        res.addCookie(cookie);
    } catch (UnsupportedEncodingException e) {
        throw new RuntimeException(e.getMessage());
    }
}
```
- `new Cookie(AUTHORIZATION_HEADER, cookieValue);`
	- Cookie에 저장될 Name과 Value를 생성자로 받는 Cookie 객체를 생성한다.
- `setPath("/")`, `set`



[[Templates]]
