```table-of-contents
title: 
style: nestedList # TOC style (nestedList|inlineFirstLevel)
minLevel: 0 # Include headings from the specified level
maxLevel: 0 # Include headings up to the specified level
includeLinks: true # Make headings clickable
debugInConsole: false # Print debug info in Obsidian console
```

# 1. Spring Security
## ■ 접근 불가 페이지

### - API 접근 권한 제어의 이해
- Spring Security에서 권한 설정 방법
  ![[Pasted image 20240610230653.png]]
	- 회원 상세정보(UserDetailsImpl)을 통해 권한(Authority) 설정 할 수 있다.
	- 권한은 1개 이상 설정할 수 있다.
	- 권한 이름 규칙
		- `ROLE_`로 시작해야 한다.
		    1. ADMIN 권한 부여 = ROLE_ADMIN
		    2. USER 권한 부여 = ROLE_USE
	``` java
	public enum UserRoleEnum {
	    USER(Authority.USER),  // 사용자 권한
	    ADMIN(Authority.ADMIN);  // 관리자 권한

	    private final String authority;

	    UserRoleEnum(String authority) {
	        this.authority = authority;
	    }

	    public String getAuthority() {
	        return this.authority;
	    }

	    public static class Authority {
	        public static final String USER = "ROLE_USER";
	        public static final String ADMIN = "ROLE_ADMIN";
	    }
	}
	```

	``` java
	public class UserDetailsImpl implements UserDetails {
			// ...

		@Override
	    public Collection<? extends GrantedAuthority> getAuthorities() {
	        SimpleGrantedAuthority adminAuthority = new SimpleGrantedAuthority("ROLE_ADMIN");
	        Collection<GrantedAuthority> authorities = new ArrayList<>();
	        authorities.add(adminAuthority);

        return authorities;
    }
}
```
- 






[[Templates]]
