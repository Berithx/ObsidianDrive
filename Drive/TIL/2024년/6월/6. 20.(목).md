```table-of-contents
title: 
style: nestedList # TOC style (nestedList|inlineFirstLevel)
minLevel: 0 # Include headings from the specified level
maxLevel: 0 # Include headings up to the specified level
includeLinks: true # Make headings clickable
debugInConsole: false # Print debug info in Obsidian console
```

# 1. Spring
## ■ AOP

### - 부가기능 모듈화의 필요성
- 핵심기능 : 각 API별 수행해야 할 비즈니스 로직
  ![](https://i.imgur.com/KF2Kbpu.png)

- 부가기능 : 핵심기능을 보조하는 로직
  ![](https://i.imgur.com/E4A0lWR.png)
  
  - 핵심기능에 부가기능을 추가할 경우 문제점
    - 모든 핵심기능으로 통하는 Controller에 부가기능을 추가하고자 할 때
    - 핵심기능이 셀 수 없이 많다면 동일한 부가기능을 담당하는 로직을 추가해야한다.
    - 또한 부가기능이 수정되거나 핵심기능이 추가되면 그만큼 작업해야하는 양이 늘어난다.
      
    - 핵심기능 수정 시 
		- 같은 함수 내 핵심기능과 부가기능이 섞여있다.
	    - 핵심기능을 이해하려면 부가기능까지 함께 이해할 필요가 생긴다.
	      
	- 부가기능 수정 시
		- 핵심기능의 수만큼 부가기능도 수정해야한다.

### - 부가기능 모듈화
- AOP(Aspect Oriented Programing)를 통한 부가기능 모듈화
	- 부가기능은 핵심기능과의 관점(Aspect)이 다르다.
	- 그렇기에 핵심기능과 분리해서 부가기능 중심으로 설계 및 구현이 가능하다.
	  ![](https://i.imgur.com/dTaeU8v.png)

## ■ Spring AOP
### - Spring의 AOP 애너테이션
![](https://i.imgur.com/D3z4Oo7.png)

1. `@Aspect` : Spring Bean 클래스에만 적용할 수 있다.
   
2. 어드바이스 종류 : AOP가 작동할 위치(순서)를 정의함.
	- `@Around` : 핵심기능 수행 전과 후 동작
	- `@Before` : 핵심기능 수행 전 동작
	- `@After` : 핵심기능 성공/실패 여부와 관계없이 동작
	- `@AfterReturning` : 핵심기능 성공 시 함수의 Return 값을 사용해 부가기능을 동작
	- `@AfterThrowing` : 핵심기능 호출 실패 시(Exception이 발생하면) 동작
	  
3. 포인트컷 : 어떠한 관점(Aspect)에서 AOP를 적용할지를 정의함.
	- 포인트컷 표현(Expression)
	  ``` java
execution(modifiers-pattern? return-type-pattern declaring-type-pattern? method-name-pattern(param-pattern) throws-pattern?)
		```
		- ? 는 생략 할 수 있다.
		  
		- 표현 예시
		  ``` java
@Around("execution(public * com.group.project.controller..*(..))")
public Object execute(ProceedingJoinPoint joinPoint) throws Throwable { ... }
			```
		- `modifiers-pattern`
			- 어떠한 접근제어자에 적용할 것인가 : public, private, *
		- `return-type-pattern`
			- 어떠한 리턴 타입에 적용할 것인가 : void, String, Collection, *
		- `declaring-type-pattern`
			- 어느 패키지 위치가 대상인가
			- com.group.project.controller.* : controller 패키지의 모든 클래스에 적용
			- com.group.project.controller.** : 패키지 및 하위 패키지의 모든 클래스에 적용
		- `method-name-pattern(param-pattern)`
			- 어떤 파라미터를 가진 메서드에 적용할 것인가
			- ({특정 클래스 주소}) : 클래스(인터페이스)




[[Templates]]
